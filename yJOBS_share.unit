#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   global     create global/shared variable        - - - - - - - - - - - - -   static void *s_call   = yjobs_callback;                                                                                                                                                                                     



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP  [0a/и]  (SHARE) verify shared action preparation by areas                  0s   areas           yjobs_share_prepare                                                          ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yjobs__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char    x_file    [LEN_PATH]  = "placeholder";                                                                                                                                                                             

   COND       verify quick success                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     reset msg/err                        yURG_all_tmp                                                                                                                      i_equal     0                                                                                                    
     get      ... allow errors                     yURG_all_live                                                                                                                     i_equal     0                                                                                                    
     exec     call prepare                         yjobs_share_prepare         "f",'i', IAM_UPOLYMNIA, ACT_CVERIFY  , "tbd", x_file, s_call, NULL, NULL, NULL, NULL, NULL, NULL      i_equal     1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     т-l  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     get      ... get the last message             yURG_msg_last                                                                                                                     s_equal                                                                                                          

   COND       attempt maintenance in incomming                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, requested mode (У) does not match area (i), run verbosely to identify reasons" BOLD_OFF);                                                                                               
     exec     reset msg/err                        yURG_all_tmp                                                                                                                      i_equal     0                                                                                                    
     get      ... allow errors                     yURG_all_live                                                                                                                     i_equal     0                                                                                                    
     exec     call prepare                         yjobs_share_prepare         "f",'i', IAM_UPOLYMNIA, ACT_CAUDIT   , "tbd", x_file, s_call, NULL, NULL, NULL, NULL, NULL, NULL      i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           
     get      ... get the last message             yURG_msg_last                                                                                                                     s_equal     [[ u_error ]]                                                                                        

   COND       attempt outgoing in epic                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, requested mode (Э) does not match area (e), run verbosely to identify reasons" BOLD_OFF);                                                                                               
     exec     reset msg/err                        yURG_all_tmp                                                                                                                      i_equal     0                                                                                                    
     get      ... allow errors                     yURG_all_live                                                                                                                     i_equal     0                                                                                                    
     exec     call prepare                         yjobs_share_prepare         "f",'e', IAM_UPOLYMNIA, ACT_CREMOVE  , "tbd", x_file, s_call, NULL, NULL, NULL, NULL, NULL, NULL      i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           
     get      ... get the last message             yURG_msg_last                                                                                                                     s_equal     [[ u_error ]]                                                                                        

   COND       attempt gather in help                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, requested mode (Ж) does not match area (h), run verbosely to identify reasons" BOLD_OFF);                                                                                               
     exec     reset msg/err                        yURG_all_tmp                                                                                                                      i_equal     0                                                                                                    
     get      ... allow errors                     yURG_all_live                                                                                                                     i_equal     0                                                                                                    
     exec     call prepare                         yjobs_share_prepare         "f",'h', IAM_UPOLYMNIA, ACT_CGATHER  , "tbd", x_file, s_call, NULL, NULL, NULL, NULL, NULL, NULL      i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           
     get      ... get the last message             yURG_msg_last                                                                                                                     s_equal     [[ u_error ]]                                                                                        

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yjobs__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP  [0a/и]  (SHARE) verify shared action preparation                           0s   prepare         yjobs_share_prepare                                                          ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yjobs__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char    O        [LEN_HUND]  = "";                                                                                                                                                                                         
     local    create working variable              - - - - - - - - - - - - -   char    f        [LEN_PATH]  = "";                                                                                                                                                                                         
     local    create working variable              - - - - - - - - - - - - -   char    c        [LEN_DESC]  = "";                                                                                                                                                                                         
     local    create working variable              - - - - - - - - - - - - -   char    h        [LEN_DESC]  = "";                                                                                                                                                                                         
     local    create working variable              - - - - - - - - - - - - -   char    w        [LEN_LABEL] = "";                                                                                                                                                                                         
     local    create working variable              - - - - - - - - - - - - -   char    d        [LEN_LABEL] = "";                                                                                                                                                                                         
     local    create working variable              - - - - - - - - - - - - -   char    x_cwd    [LEN_PATH]  = "";                                                                                                                                                                                         
     local    create working variable              - - - - - - - - - - - - -   char    x_full   [LEN_PATH]  = "";                                                                                                                                                                                         
     local    create working variable              - - - - - - - - - - - - -   char    x_home   [LEN_PATH]  = "";                                                                                                                                                                                         
     code     save home path                       - - - - - - - - - - - - -   getcwd (x_home, LEN_PATH);                                                                                                                                                                                                 
     echo     ... check home                       - - - - - - - - - - - - -   x_home                                                                                                s_not                                                                                                            
     exec     setup working directories            yJOBS_mkdirs                                                                                                                      i_equal     0                                                                                                    

   COND  (0)  reset before each run                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare outputs                      - - - - - - - - - - - - -   yURG_msg_tmp (); yURG_msg_live ();  yURG_err_tmp ();  yURG_err_live ();                                                                                                                                                    

   COND       prepare directory for testing                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     change directory                     - - - - - - - - - - - - -   chdir  ("/home/member");                                                                                                                                                                                                   

   COND       verify quick success                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update file                          - - - - - - - - - - - - -   strcpy (f, "testing.txt");                                                                                                                                                                                            
     code     update oneline                       - - - - - - - - - - - - -   strcpy (O, u_one_polymnia);                                                                                                                                                                                               
     exec     call force environment               yjobs__unit_environ         IAM_UPOLYMNIA     , ACT_VUPDATE       , f                                                             i_equal     0                                                                                                    
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i' , IAM_UPOLYMNIA, ACT_VUPDATE  , O   , f   , s_call, c   , h   , w   , d   , x_cwd, x_full  i_equal     1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тhl  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     echo     ... check config dir                 - - - - - - - - - - - - -   c                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check home dir                   - - - - - - - - - - - - -   h                                                                                                     w_equal     т/tmp/lib/polymnia/Т                                                                                                   
     echo     ... check world file                 - - - - - - - - - - - - -   w                                                                                                     w_equal     тworld.ctrlТ                                                                                         
     echo     ... check db file                    - - - - - - - - - - - - -   d                                                                                                     w_equal     тpolymnia.dbТ                                                                                        
     echo     ... check full name                  - - - - - - - - - - - - -   x_full                                                                                                w_equal     т/home/member/testing.txtТ                                                                           

   COND       check succesful output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     2                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     [[ u_one_polymnia ]]                                                                                 
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     ггoption --vupdate   : verify and update global, but not register                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with bad runas                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', 0            , ACT_CVERIFY  , "tbd", f   , s_call, c   , h   , w   , d   , x_cwd, x_full  i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           
     echo     ... check config dir                 - - - - - - - - - - - - -   c                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check world file                 - - - - - - - - - - - - -   w                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check db file                    - - - - - - - - - - - - -   d                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check full name                  - - - - - - - - - - - - -   x_full                                                                                                w_equal     тТ                                                                                                   

   COND       check succesful output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     1                                                                                                    
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, runas (Б) not recognized or valid, run verbosely to identify reasons" BOLD_OFF);                                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with bad mode                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', IAM_UPOLYMNIA, 0            , "tbd", f   , s_call, c   , h   , w   , d   , x_cwd, x_full  i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           
     echo     ... check config dir                 - - - - - - - - - - - - -   c                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check world file                 - - - - - - - - - - - - -   w                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check db file                    - - - - - - - - - - - - -   d                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check full name                  - - - - - - - - - - - - -   x_full                                                                                                w_equal     тТ                                                                                                   

   COND       check succesful output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     1                                                                                                    
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, mode (Б) not recognized or valid, run verbosely to identify reasons" BOLD_OFF);                                                                                                         
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with NULL oneline                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', IAM_UPOLYMNIA, ACT_CVERIFY  , NULL , f   , s_call, NULL, h   , w   , d   , x_cwd, x_full  i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           
     echo     ... check config dir                 - - - - - - - - - - - - -   c                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check world file                 - - - - - - - - - - - - -   w                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check db file                    - - - - - - - - - - - - -   d                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check full name                  - - - - - - - - - - - - -   x_full                                                                                                w_equal     тТ                                                                                                   

   COND       check succesful output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     1                                                                                                    
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, descriptive \"oneline\" string is NULL or empty, run verbosely to identify reasons" BOLD_OFF);                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with empty oneline                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', IAM_UPOLYMNIA, ACT_CVERIFY  , ""   , f   , s_call, NULL, h   , w   , d   , x_cwd, x_full  i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           
     echo     ... check config dir                 - - - - - - - - - - - - -   c                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check world file                 - - - - - - - - - - - - -   w                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check db file                    - - - - - - - - - - - - -   d                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check full name                  - - - - - - - - - - - - -   x_full                                                                                                w_equal     тТ                                                                                                   

   COND       check succesful output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     1                                                                                                    
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, descriptive \"oneline\" string is NULL or empty, run verbosely to identify reasons" BOLD_OFF);                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with NULL file/dir to read                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', IAM_UPOLYMNIA, ACT_CVERIFY  , "tbd", NULL, s_call, c   , h   , w   , d   , x_cwd, x_full  i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           
     echo     ... check config dir                 - - - - - - - - - - - - -   c                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check world file                 - - - - - - - - - - - - -   w                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check db file                    - - - - - - - - - - - - -   d                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check full name                  - - - - - - - - - - - - -   x_full                                                                                                w_equal     тТ                                                                                                   

   COND       check succesful output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     1                                                                                                    
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, local file/directory is NULL, run verbosely to identify reasons" BOLD_OFF);                                                                                                             
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with NULL callback                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', IAM_UPOLYMNIA, ACT_CVERIFY  , "tbd", f   , NULL  , c   , h   , w   , d   , x_cwd, x_full  i_lesser    1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           
     echo     ... check config dir                 - - - - - - - - - - - - -   c                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check world file                 - - - - - - - - - - - - -   w                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check db file                    - - - - - - - - - - - - -   d                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check full name                  - - - - - - - - - - - - -   x_full                                                                                                w_equal     тТ                                                                                                   

   COND       check succesful output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     1                                                                                                    
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, host program callback function is NULL, run verbosely to identify reasons" BOLD_OFF);                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with null where allowed                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', IAM_UPOLYMNIA, ACT_CVERIFY  , "tbd", f   , s_call, c   , h   , NULL, d   , x_cwd, x_full  i_equal     1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     т-l  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', IAM_UPOLYMNIA, ACT_CVERIFY  , "tbd", f   , s_call, c   , h   , w   , NULL, x_cwd, x_full  i_equal     1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     т-l  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', IAM_UPOLYMNIA, ACT_CVERIFY  , "tbd", f   , s_call, c   , h   , w   , d   , x_cwd, NULL    i_equal     1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     т-l  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify another success                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update file                          - - - - - - - - - - - - -   strcpy (f, "simple.tasks");                                                                                                                                                                                           
     code     update oneline                       - - - - - - - - - - - - -   strcpy (O, u_one_metis);                                                                                                                                                                                                  
     exec     call prepare                         yjobs_share_prepare         "tbd", 'i', IAM_METIS    , ACT_VVERIFY  , O    , f   , s_call, c   , h   , w   , d   , x_cwd, x_full  i_equal     1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тhl  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     echo     ... check config dir                 - - - - - - - - - - - - -   c                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check world file                 - - - - - - - - - - - - -   w                                                                                                     w_equal     тworld.ctrlТ                                                                                         
     echo     ... check db file                    - - - - - - - - - - - - -   d                                                                                                     w_equal     тmetis.dbТ                                                                                           
     echo     ... check full name                  - - - - - - - - - - - - -   x_full                                                                                                w_equal     т/home/member/simple.tasksТ                                                                          

   COND       check succesful output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     2                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     [[ u_one_metis ]]                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     ггoption --vverify   : check details, but not register, update, or install                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program using configuration                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update file                          - - - - - - - - - - - - -   strcpy (f, "eos.v52.conf");                                                                                                                                                                                           
     code     update oneline                       - - - - - - - - - - - - -   strcpy (O, u_one_eos);                                                                                                                                                                                                    
     exec     call prepare                         yjobs_share_prepare         "tbd", 'g', IAM_EOS      , ACT_VNORMAL  , O    , f   , s_call, c   , h   , w   , d   , x_cwd, x_full  i_equal     1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тhl  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     echo     ... check config dir                 - - - - - - - - - - - - -   c                                                                                                     w_equal     т/etc/Т                                                                                              
     echo     ... check world file                 - - - - - - - - - - - - -   w                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check db file                    - - - - - - - - - - - - -   d                                                                                                     w_equal     тТ                                                                                                   
     echo     ... check full name                  - - - - - - - - - - - - -   x_full                                                                                                w_equal     тТ                                                                                                   

   COND       check succesful output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     2                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     [[ u_one_eos ]]                                                                                      
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     ггoption --vnormal   : verbosely launch in normal/non-daemon mode                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       return to original directory                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     change directory                     - - - - - - - - - - - - -   chdir  (x_home);                                                                                                                                                                                                           

   REUSE -Z-  [ clean-up and verify testing directory ]                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yjobs__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP  [0a/и]  (SHARE) verify database read                                       0s   readdb          yjobs__in_readdb                                                             ((03.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yjobs__unit_quiet                                                                                                                 i_equal     0                                                                                                    

   COND  (0)  create testing files                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove testing database              yENV_rm                     "/tmp/database.db"                                                                                    c_equal     '-'                                                                                                  
     code     prepare outputs                      - - - - - - - - - - - - -   yURG_msg_tmp (); yURG_msg_live ();  yURG_err_tmp ();  yURG_err_live ();                                                                                                                                                    
     exec     create testing database              yENV_touch                  "/tmp/database.db"                                        , "root"  , "root"  , "0600"                c_equal     'r'                                                                                                  

   COND       verify quick success                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database read                   yjobs_share_readdb          "tbd", 'i', ACT_VINSTALL , "/tmp"                    , "database.db"     , s_call                     i_equal     1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBрsниии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   COND       verify expected output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     13                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     audit existance and security of database...                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested dir    4т/tmpТ                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested file  11тdatabase.dbТ                                                                 
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- full name       16т/tmp/database.dbТ                                                            
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- name (b/n) is fully qualified, not hidden/temp, and uses only legal characters                  
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- regular (r) entry existance confirmed, AND not a symlink/hardlink                               
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- ownership confirmed, owned by тrootТ (0) and in group тrootТ (0)                                
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- permissions confirmed, тf_tightТ, 0600, disp тrw-------Т                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- success, database exists and security is appropriate                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     host-based reading of the database (read)...                                                         
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- skipping, host-based action (must string-test downstream)                                       
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with bad mode                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database read                   yjobs_share_readdb          "tbd", 'i', 0            , "/tmp"                    , "database.db"     , s_call                     i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   COND  (1)  verify expected output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify skipping for non-install modes                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database read                   yjobs_share_readdb          "tbd", 'i', ACT_VVERIFY  , "/tmp"                    , "database.db"     , s_call                     i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   DITTO (1)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify skipping for programs without databases                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database read                   yjobs_share_readdb          "tbd", 'i', ACT_VINSTALL , "/tmp"                    , ""                , s_call                     i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBр--иии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   COND  (2)  verify expected output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     3                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     verify audit and reading of the database...                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- skipping, host program does not use a central database                            
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify skipping for programs without NULL database                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database read                   yjobs_share_readdb          "tbd", 'i', ACT_VINSTALL , "/tmp"                    , NULL              , s_call                     i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBр--иии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   DITTO (2)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with NULL callback                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database read                   yjobs_share_readdb          "tbd", 'i', ACT_VINSTALL , "/tmp"                    , "database.db"     , NULL                       i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBрs░иии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           

   COND       verify expected output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     12                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     audit existance and security of database...                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested dir    4т/tmpТ                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested file  11тdatabase.dbТ                                                                 
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- full name       16т/tmp/database.dbТ                                                            
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- name (b/n) is fully qualified, not hidden/temp, and uses only legal characters                  
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- regular (r) entry existance confirmed, AND not a symlink/hardlink                               
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- ownership confirmed, owned by тrootТ (0) and in group тrootТ (0)                                
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- permissions confirmed, тf_tightТ, 0600, disp тrw-------Т                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- success, database exists and security is appropriate                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal                                                                                                          
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, host program callback function is NULL, the reasons are shown above" BOLD_OFF);                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     1                                                                                                    
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, "  " BOLD_ERR "** FATAL, host program callback function is NULL (illegal setup)" BOLD_OFF);                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_ERR          , 'о'                                                                               s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt on missing database                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove testing database              yENV_rm                     "/tmp/database.db"                                                                                    c_equal     '-'                                                                                                  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database read                   yjobs_share_readdb          "tbd", 'i', ACT_VINSTALL , "/tmp"                    , "database.db"     , s_call                     i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBр░░иии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           

   COND       verify expected output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     8                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     audit existance and security of database...                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested dir    4т/tmpТ                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested file  11тdatabase.dbТ                                                                 
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- full name       16т/tmp/database.dbТ                                                            
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- name (b/n) is fully qualified, not hidden/temp, and uses only legal characters                  
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal                                                                                                          
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, database is not secure/appropriate, the reasons are shown above" BOLD_OFF);                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     1                                                                                                    
     code     ... prepare error message            - - - - - - - - - - - - -   sprintf (u_error, "  " BOLD_ERR "** FATAL, regular (r) entry does not exist, AND not in FORCE mode" BOLD_OFF);                                                                                                             
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_ERR          , 'о'                                                                               s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yjobs__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP  [0a/и]  (SHARE) verify database write                                      0s   writedb         yjobs__in_writedb                                                            ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yjobs__unit_quiet                                                                                                                 i_equal     0                                                                                                    

   COND  (0)  create testing files                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove testing database              yENV_rm                     "/tmp/database.conf"                                                                                  c_equal     '-'                                                                                                  
     code     prepare outputs                      - - - - - - - - - - - - -   yURG_msg_tmp (); yURG_msg_live ();  yURG_err_tmp ();  yURG_err_live ();                                                                                                                                                    
     exec     create testing database              yENV_touch                  "/tmp/database.conf"                                      , "root"  , "root"  , "0600"                c_equal     'r'                                                                                                  

   COND       verify quick success                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database write                  yjobs_share_writedb         "tbd", 'i', ACT_VINSTALL , "/tmp"                    , "database.db"     , s_call                     i_equal     1                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBрsиииН  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   COND       verify expected output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     13                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     audit existance and security of database...                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested dir    4т/tmpТ                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested file  11тdatabase.dbТ                                                                 
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- full name       16т/tmp/database.dbТ                                                            
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- name (b/n) is fully qualified, not hidden/temp, and uses only legal characters                  
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- regular (r) entry existance confirmed, AND not a symlink/hardlink                               
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- ownership confirmed, owned by тrootТ (0) and in group тrootТ (0)                                
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- permissions confirmed, тf_tightТ, 0600, disp тrw-------Т                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- success, database exists and security is appropriate                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     host-based writing of the database (write)...                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- skipping, host-based action (must string-test downstream)                                       
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with bad mode                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database write                  yjobs_share_writedb         "tbd", 'i', 0            , "/tmp"                    , "database.db"     , s_call                     i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   COND  (1)  verify expected output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify skipping for non-install modes                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database write                  yjobs_share_writedb         "tbd", 'i', ACT_CVERIFY  , "/tmp"                    , "database.db"     , s_call                     i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   DITTO (1)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify skipping for programs without databases                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database write                  yjobs_share_writedb         "tbd", 'i', ACT_CINSTALL , "/tmp"                    , ""                , s_call                     i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBр-иии-  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   COND  (2)  verify expected output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     3                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     verify audit and writing of the database...                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- skipping, host program does not use a central database                            
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify skipping for programs without NULL database                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database write                  yjobs_share_writedb         "tbd", 'i', ACT_CINSTALL , "/tmp"                    , NULL              , s_call                     i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBр-иии-  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           

   DITTO (2)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with NULL callback                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, host program callback function is NULL, run verbosely to identify reasons" BOLD_OFF);                                                                                                   
     exec     clear score                          yjobs_ends_clear                                                                                                                  i_equal     0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBриииии  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  ииТ                           
     exec     call database write                  yjobs_share_writedb         "tbd", 'i', ACT_VINSTALL , "/tmp"                    , "database.db"     , NULL                       i_lesser    0                                                                                                    
     echo     ... check score                      - - - - - - - - - - - - -   g_acts_score                                                                                          w_equal     тии  SEрии  DBрsиии░  LOриии  WOрииииии  CEриииииии  ACриии  BEриииии  f!Т                           

   COND       verify expected output                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     12                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG          , 0                                                                                 s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     audit existance and security of database...                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested dir    4т/tmpТ                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- requested file  11тdatabase.dbТ                                                                 
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- full name       16т/tmp/database.dbТ                                                            
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- name (b/n) is fully qualified, not hidden/temp, and uses only legal characters                  
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- regular (r) entry existance confirmed, AND not a symlink/hardlink                               
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- ownership confirmed, owned by тrootТ (0) and in group тrootТ (0)                                
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- permissions confirmed, тf_tightТ, 0600, disp тrw-------Т                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     гг-- success, database exists and security is appropriate                                          
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal                                                                                                          
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, BOLD_ERR "FAILED, host program callback function is NULL, the reasons are shown above" BOLD_OFF);                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG          , 'о'                                                                               s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     1                                                                                                    
     code     create error message                 - - - - - - - - - - - - -   strcpy (u_error, "  " BOLD_ERR "** FATAL, host program callback function is NULL (illegal setup)" BOLD_OFF);                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_ERR          , 0                                                                                 s_equal     [[ u_error ]]                                                                                        
     exec     ... review line                      yENV_peek                   YURG_ERR          , 'о'                                                                               s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yjobs__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (SHARE) verify a directory filtering                                0s  filter          yjobs__share_filter                                                          ((13.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yjobs__unit_quiet                                                                                                                 i_equal     0                                                                                                    

   COND       verify a simple filter                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     filter an entry                      yjobs__share_filter         "root.khronos_testing"                     , "root"                , 0                                i_equal     1                                                                                                    

   COND       attempt a null entry                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     filter an entry                      yjobs__share_filter         NULL                                       , "root"                , 0                                i_lesser    1                                                                                                    

   COND       attempt an empty entry                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     filter an entry                      yjobs__share_filter         ""                                         , "root"                , 0                                i_lesser    1                                                                                                    

   COND       attempt a current directory entry                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     filter an entry                      yjobs__share_filter         "."                                        , "root"                , 0                                i_equal     0                                                                                                    

   COND       attempt a parent directory entry                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     filter an entry                      yjobs__share_filter         ".."                                       , "root"                , 0                                i_equal     0                                                                                                    

   COND       attempt entry with bad characters                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     filter an entry                      yjobs__share_filter         "root.khronos_testing~"                    , "root"                , 0                                i_lesser    0                                                                                                    

   COND       attempt a hidden file                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     filter an entry                      yjobs__share_filter         ".root.khronos_testing"                    , "root"                , 0                                i_lesser    0                                                                                                    

   COND       attempt looking with wrong user                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     filter an entry                      yjobs__share_filter         "root.khronos_testing"                     , "member"              , 1000                             i_equal     0                                                                                                    

   COND       verify looking with normal user                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     filter an entry                      yjobs__share_filter         "member.khronos_testing"                   , "member"              , 1000                             i_equal     1                                                                                                    

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yjobs__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP  [0a/и]  (SHARE) verify handling single-conf files                          0s   single          yjobs__share_single                                                          ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yjobs__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   int     i        =  1;                                                                                                                                                                                                     
     exec     remove directories                   yJOBS_rmdirs                                                                                                                      i_equal     0                                                                                                    
     exec     setup working directories            yJOBS_mkdirs                                                                                                                      i_equal     0                                                                                                    
     code     ... update mode                      - - - - - - - - - - - - -   myJOBS.m_mode    = ACT_LIST;                                                                                                                                                                                               

   COND  (0)  remove testing files                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove file                          yENV_rm                     "/tmp/etc/eos.conf"                                                                                   c_equal     '-'                                                                                                  

   COND  (1)  create testing files                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     create a sample file                 yENV_touch                  "/tmp/etc/eos.conf"                                       , "root"  , "root"  , "0600"                c_equal     'r'                                                                                                  

   COND       verify simple success                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call clear mode                      yjobs_args__clearmode       NULL   , NULL    , NULL                                                                               i_equal     0                                                                                                    
     exec     reset msg/err                        yURG_all_tmp                                                                                                                      i_equal     0                                                                                                    
     get      ... allow errors                     yURG_all_live                                                                                                                     i_equal     0                                                                                                    
     exec     call runas                           yjobs_runas                 "eos_unit"           , NULL                                                                           i_equal     0                                                                                                    
     exec     call arg finder                      yJOBS_argument              &i     , "--list"             , NULL                                   , NULL   , NULL    , NULL      i_equal     1                                                                                                    
     exec     call final                           yJOBS_final                 0                                                                                                     i_equal     0                                                                                                    
     get      ... run modes                        yjobs_base__unit            "mode"                                                                                                s_equal     BASE mode        : iam (E) eos-гггггггггггггг, run (=) list (silent)     , тeos.confТ                        
     exec     call single                          yjobs__share_single         IAM_UEOS     , ACT_LIST     , "/tmp/etc/"      , "eos.conf"         , "root"  , 0   , yjobs_callback  i_equal     1                                                                                                    

   COND       verify results                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     1                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 0                                                                     s_equal     /tmp/etc/eos.conf                                                                                        
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR                      , 0                                                                     s_equal     (n/a)                                                                                                

   COND  (0)  remove testing files                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove file                          yENV_rm                     "/tmp/etc/eos.conf"                                                                                   c_equal     '-'                                                                                                  

   COND       attempt with missing file                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call clear mode                      yjobs_args__clearmode       NULL   , NULL    , NULL                                                                               i_equal     0                                                                                                    
     exec     reset msg/err                        yURG_all_tmp                                                                                                                      i_equal     0                                                                                                    
     get      ... allow errors                     yURG_all_live                                                                                                                     i_equal     0                                                                                                    
     exec     call runas                           yjobs_runas                 "eos_unit"           , NULL                                                                           i_equal     0                                                                                                    
     exec     call arg finder                      yJOBS_argument              &i     , "--list"             , NULL                                   , NULL   , NULL    , NULL      i_equal     1                                                                                                    
     exec     call final                           yJOBS_final                 0                                                                                                     i_equal     0                                                                                                    
     get      ... run modes                        yjobs_base__unit            "mode"                                                                                                s_equal     BASE mode        : iam (E) eos-гггггггггггггг, run (=) list (silent)     , тeos.confТ                        
     exec     call single                          yjobs__share_single         IAM_UEOS     , ACT_LIST     , "/tmp/etc/"      , "eos.conf"         , "root"  , 0   , yjobs_callback  i_lesser    0                                                                                                    

   COND       verify results                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 0                                                                     s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR                      , 0                                                                     s_equal     (n/a)                                                                                                

   COND  (1)  create testing files                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     create a sample file                 yENV_touch                  "/tmp/etc/eos.conf"                                       , "root"  , "root"  , "0600"                c_equal     'r'                                                                                                  

   COND       verify simple success                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call clear mode                      yjobs_args__clearmode       NULL   , NULL    , NULL                                                                               i_equal     0                                                                                                    
     exec     reset msg/err                        yURG_all_tmp                                                                                                                      i_equal     0                                                                                                    
     get      ... allow errors                     yURG_all_live                                                                                                                     i_equal     0                                                                                                    
     exec     call runas                           yjobs_runas                 "eos_unit"           , NULL                                                                           i_equal     0                                                                                                    
     exec     call arg finder                      yJOBS_argument              &i     , "--vaudit"           , NULL                                   , NULL   , NULL    , NULL      i_equal     1                                                                                                    
     exec     call final                           yJOBS_final                 0                                                                                                     i_equal     0                                                                                                    
     get      ... run modes                        yjobs_base__unit            "mode"                                                                                                s_equal     BASE mode        : iam (E) eos-гггггггггггггг, run (A) audit (verbose)   , тeos.confТ                        
     exec     call single                          yjobs__share_single         IAM_UEOS     , ACT_AUDIT    , "/etc/"          , "eos.conf"         , "root"  , 0   , yjobs_callback  i_equal     YJOBS_RC_PULL                                                                                        

   COND       verify results                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     23                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 0                                                                     s_equal                                                                                                          
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     central file check...                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- name тeos.confТ is not empty/null                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- file name is pathless/local                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- file name is of acceptable length (7-50 chars)                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- all the file name characters are legal [A-Za-z0-9_.]                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- good, file is not hidden, no lead period, without extension                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- name prefix тeos.Т matches central standard тeos.Т                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- name suffix т.confТ matches central standard т.confТ                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- name тeos.confТ matches central standard тeos.confТ                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- central storage directory is т/tmp/etc/Т                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- all non-job files require root access                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- file user is registered with system, root, uid 0                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- run-time is root, so all access is allowed                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- located the actual entry in т/tmp/etc/Т                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- entry is confirmed as a regular file, not a symlink/directory                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- running as root, can audit any files                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- central owner and group are both root                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- file permissions confirmed as owner-only write/read (0600)                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- success, central file acceptable                                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal                                                                                                                                               
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     verify the contents of a source/configuration file (pull)...                                                                                     
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     гг-- skipping, host-based action (must string-test downstream)                                                                            
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR                      , 0                                                                     s_equal     (n/a)                                                                                                

   REUSE -Z-  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yjobs__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP  [0a/и]  (SHARE) verify listing central files                               0s   list            yjobs_share_review                                                           ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yjobs__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   int     i        =  1;                                                                                                                                                                                                     
     exec     remove directories                   yJOBS_rmdirs                                                                                                                      i_equal     0                                                                                                    
     exec     setup working directories            yJOBS_mkdirs                                                                                                                      i_equal     0                                                                                                    
     code     ... update mode                      - - - - - - - - - - - - -   myJOBS.m_mode    = ACT_LIST;                                                                                                                                                                                               

   COND  (0)  remove testing files                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove file                          yENV_rm                     "/tmp/spool/khronos/root.user_check"                                                                  c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/spool/khronos/member.khronos_testing"                                                           c_equal     '-'                                                                                                  

   COND  (1)  create testing files                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     create a sample file                 yENV_touch                  "/tmp/spool/khronos/root.user_check"                      , "root"  , "root"  , "0600"                c_equal     'r'                                                                                                  
     exec     create a sample file                 yENV_touch                  "/tmp/spool/khronos/member.khronos_testing"               , "root"  , "root"  , "0600"                c_equal     'r'                                                                                                  

   COND       verify simple success                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     reset msg/err                        yURG_all_tmp                                                                                                                      i_equal     0                                                                                                    
     get      ... allow errors                     yURG_all_live                                                                                                                     i_equal     0                                                                                                    
     exec     call runas                           yjobs_runas                 "khronos_unit"       , NULL                                                                           i_equal     0                                                                                                    
     exec     call arg finder                      yJOBS_argument              &i     , "--list"             , NULL                                   , NULL   , NULL    , NULL      i_equal     1                                                                                                    
     exec     call final                           yJOBS_final                 0                                                                                                     i_equal     0                                                                                                    
     get      ... run modes                        yjobs_base__unit            "mode"                                                                                                s_equal     BASE mode        : iam (K) khronos-anileis гг, run (=) list (silent)     , тТ                        
     exec     call list                            yjobs_share_review          "yjobs_maint_list"   , 'm', IAM_UKHRONOS   , ACT_LIST        , yjobs_callback    , 'y'                i_equal     2                                                                                                    

   COND       verify results                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     2                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 0                                                                     s_equal     member.khronos_testing                                                                               
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     root.user_check                                                                                                                                                                
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'о'                                                                   s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR                      , 0                                                                     s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify on empty directory                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     reset msg/err                        yURG_all_tmp                                                                                                                      i_equal     0                                                                                                    
     get      ... allow errors                     yURG_all_live                                                                                                                     i_equal     0                                                                                                    
     exec     call runas                           yjobs_runas                 "khronos_unit"       , NULL                                                                           i_equal     0                                                                                                    
     exec     call arg finder                      yJOBS_argument              &i     , "--list"             , NULL                                   , NULL   , NULL    , NULL      i_equal     1                                                                                                    
     exec     call final                           yJOBS_final                 0                                                                                                     i_equal     0                                                                                                    
     get      ... run modes                        yjobs_base__unit            "mode"                                                                                                s_equal     BASE mode        : iam (K) khronos-anileis гг, run (=) list (silent)     , тТ                        
     exec     call list                            yjobs_share_review          "yjobs_maint_list"   , 'm', IAM_UKHRONOS   , ACT_LIST        , yjobs_callback    , 'y'                i_equal     0                                                                                                    

   COND       verify results                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 0                                                                     s_equal     (n/a)                                                                                                
     exec     verify error output                  yENV_lines                  YURG_ERR                                                                                              i_equal     0                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_ERR                      , 0                                                                     s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   REUSE -Z-  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((13.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yjobs__unit_end                                                                                                                   i_equal     0                                                                                                    



# end-of-file.  done, finito, completare, whimper [¤┤иии
